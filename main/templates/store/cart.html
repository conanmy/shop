<!DOCTYPE HTML>
<html>
<head>
<title>Store Cart</title>
<link rel="stylesheet" href="styles/cart.css" />
<link rel="stylesheet" href="styles/header.css" />
<link rel="stylesheet" href="styles/base.css" />
<link rel="stylesheet" href="styles/footer.css" />
</head>
<body>
<div class="header">
<div class="header__details">
<div class="header__logo"></div>
<div class="header__login-register">
<a class="header__login-register__login" href="file:///D:/store/login.html">Login</a>
<span class="header__login-register__vline">|</span>
<a class="header__login-register__register" href="file:///D:/store/register.html">Register</a>
</div>
<a class="header__username" href="file:///D:/store/user.html">Username</a>
<a class="header__mycart" href="file:///D:/store/cart.html">My Cart</a>
</div>
</div>
<div class="content">
<div class="step">
	<div class="step__title"><a href="file:///D:/store/list.html">Store</a></div>
	<div class="step__tag">
	<img src="images/cart/step.png" />	
		<span class="step__tag__cart">My cart</span>
		<span>Confirm</span>
		<span>Payment</span>
		<span>Choose</span>
	</div>
</div>
<div class="cart">
	<div class="cart__title">
		<span class="cart__title__product">Product</span>
		<span class="cart__title__operation">Operation</span>
		<span class="cart__title__property">
			<span>Unit Price($)</span>
			<span>Quantity</span>
			<span>Amount Price($)</span>
		</span>
	</div>
	<div id="cartCommodity" class="cart__commodity">
	<div id="cartCommodityProduct0" class="cart__commodity__product">		
		<a class="cart__commodity__product__image" href="file:///D:/store/details.html"><img src="images/cart/sketch.png"></a>
		<a class="cart__commodity__product__sketch" href="file:///D:/store/details.html"><strong>Aveeno Baby Cream</strong><br />Baby,Oats,Moisten long,Nutrition</a>
		<span class="cart__commodity__product__delete"><input id="productDelete0" type="image" src="images/cart/delete.png"></span>
		<div class="cart__commodity__product__property">		
			<div id="productPropUnit0" class="cart__commodity__product__property__unit">10.00</div>
			<div class="cart__commodity__product__property__count">
			<input id="countButtonMinus0" class="cart__commodity__product__property__minus" type="button" value="-" />
			<input id="countButtonValue0" class="cart__commodity__product__property__number" value="1" />
			<input id="countButtonPlus0" class="cart__commodity__product__property__plus" type="button" value="+" />
			</div>
			<div id="productPropCalcuate0" class="cart__commodity__product__property__calculate">10.00</div>
		</div>
	</div>
		<div id="cartCommodityProduct1" class="cart__commodity__product">		
		<a class="cart__commodity__product__image" href="file:///D:/store/details.html"><img src="images/cart/sketch.png"></a>
		<a class="cart__commodity__product__sketch" href="file:///D:/store/details.html"><strong>Aveeno Baby Cream</strong><br />Baby,Oats,Moisten long,Nutrition</a>
		<span class="cart__commodity__product__delete"><input id="productDelete1" type="image" src="images/cart/delete.png"></span>
		<div class="cart__commodity__product__property">		
			<span id="productPropUnit1" class="cart__commodity__product__property__unit">10.00</span>
			<div class="cart__commodity__product__property__count">
			<input id="countButtonMinus1" class="cart__commodity__product__property__minus" type="button" value="-" />
			<input id="countButtonValue1" class="cart__commodity__product__property__number" value="1" />
			<input id="countButtonPlus1" class="cart__commodity__product__property__plus" type="button" value="+" />
			</div>
			<span id="productPropCalcuate1" class="cart__commodity__product__property__calculate">10.00</span>
		</div>
	</div>
		<div id="cartCommodityProduct2" class="cart__commodity__product">		
		<a class="cart__commodity__product__image" href="file:///D:/store/details.html"><img src="images/cart/sketch.png"></a>
		<a class="cart__commodity__product__sketch" href="file:///D:/store/details.html"><strong>Aveeno Baby Cream</strong><br />Baby,Oats,Moisten long,Nutrition</a>
		<span class="cart__commodity__product__delete"><input id="productDelete2" type="image" src="images/cart/delete.png"></span>
		<div class="cart__commodity__product__property">		
			<span id="productPropUnit2" class="cart__commodity__product__property__unit">10.00</span>
			<div class="cart__commodity__product__property__count">
			<input id="countButtonMinus2" class="cart__commodity__product__property__minus" type="button" value="-" />
			<input id="countButtonValue2" class="cart__commodity__product__property__number" value="1" />
			<input id="countButtonPlus2" class="cart__commodity__product__property__plus" type="button" value="+" />
			</div>
			<span id="productPropCalcuate2" class="cart__commodity__product__property__calculate">10.00</span>
		</div>
	</div>
	</div>
	<div class="cart__checkout">
		<div class="cart__checkout__operation">
		<a class="cart__checkout__operation__continue" href="file:///D:/store/list.html">Continue Shopping</a>	
		</div>
		<div class="cart__checkout__sum">
			<span>Quantity: <strong id="sumQuantity">3</strong></span>
			<span>Total: <em>$</em><strong id="sumTotal">30.00</strong></span>
			<input type="button" value="Pay" />
		</div>
	</div>
</div>
</div>
<div class="footer"><em>Store</em></div>
<script type="text/javascript" src="https://code.jquery.com/jquery-3.1.0.js"></script>
<script>
var minusButtonArray = document.getElementsByClassName('cart__commodity__product__property__minus');
var itemNumber = minusButtonArray.length;
for (var i = 0; i < itemNumber; i ++) {
	document.getElementById('countButtonValue' + i).oninput = function(event) {
		var valueInput = document.getElementById('countButtonValue' + (event.target.id.slice('countButtonValue'.length)));	
		var inputString = valueInput.value;	
		var number = '';
		for (var i = 0; i < inputString.length; i ++) {			
			if (!isNaN(inputString.charAt(i))) {							
				number = number + inputString.charAt(i);
			}						
		}
			document.getElementById('countButtonValue' + (event.target.id.slice('countButtonValue'.length))).value = number;
			calculateSum();
			calculateQuantity();
			calculateTotal();			
	}
}
for (var i = 0; i < itemNumber; i ++) {
	document.getElementById('countButtonMinus' + i).onclick = function(event) {		
		var valueInput = document.getElementById('countButtonValue' + (event.target.id.slice('countButtonMinus'.length)));
		if (valueInput.value >= 2) {
			valueInput.value = valueInput.value - 1;
			calculateSum();
			calculateQuantity();
			calculateTotal();			
		}		
	};
}
for (var i = 0; i < itemNumber; i ++) {
	document.getElementById('countButtonPlus' + i).onclick = function(event) {
		var valueInput = document.getElementById('countButtonValue' + (event.target.id.slice('countButtonPlus'.length)));
		valueInput.value = valueInput.value - 0 + 1;
		calculateSum();
		calculateQuantity();
		calculateTotal();		
	};
}
var parent = document.getElementById('cartCommodity');
for (var i = 0; i < itemNumber; i ++) {	
	document.getElementById('productDelete' + i).onclick = function(event) {		
		var child = document.getElementById('cartCommodityProduct'+ (event.target.id.slice('productDelete'.length)));		
		parent.removeChild(child);
		calculateQuantity();
		calculateTotal();
		
	};
}
function calculateSum() {
	for (i = 0; i < itemNumber; i ++) {
		if (document.getElementById('productPropCalcuate' + i)) {
			var valueInput = document.getElementById('countButtonValue' + i);
			var productUnit = document.getElementById('productPropUnit' + i);
			var productSum = document.getElementById('productPropCalcuate' + i);	
			productSum.innerHTML = (valueInput.value * productUnit.innerHTML).toFixed(2);
		}
	}
}
function calculateQuantity() {
	var quantity = 0;
	for (var i = 0; i < itemNumber; i ++) {
		if (document.getElementById('countButtonValue' + i)) {
			quantity = quantity + (document.getElementById('countButtonValue' + i).value - 0);
		}
	}
	document.getElementById('sumQuantity').innerHTML = quantity;
}
function calculateTotal() {
	var total = 0;
	for (i = 0; i < itemNumber; i ++) {
		if (document.getElementById('productPropCalcuate' + i)) {
			total = total + (document.getElementById('productPropCalcuate' + i).innerHTML - 0);
		}		
	}
	document.getElementById('sumTotal').innerHTML = total.toFixed(2);	
}
</script>
</body>
</html>